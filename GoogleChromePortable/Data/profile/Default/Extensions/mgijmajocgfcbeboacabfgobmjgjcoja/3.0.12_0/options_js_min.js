/* Copyright 2011 Google Inc. All Rights Reserved. */ (function(){var d=!1,e,f,g,h,i,j,k,l,m,o=function(){var a={};a.language=g.options[g.selectedIndex].value;a.popupDblclick=h.checked?"true":"false";a.popupSelect=k.checked?"true":"false";a.popupDblclickKey=j.options[j.selectedIndex].value;a.popupSelectKey=m.options[m.selectedIndex].value;a.enableHttps="true";window.localStorage.options=JSON.stringify(a);var b=document.getElementById("save_status");b.style.setProperty("-webkit-transition","opacity 0s ease-in");b.style.opacity=1;window.setTimeout(function(){b.style.setProperty("-webkit-transition",
"opacity 0.5s ease-in");b.style.opacity=0},1E3);n(d);chrome.extension.getBackgroundPage()["gdx.updateOptions"]()},s=function(){n(d);var a=JSON.parse(window.localStorage.options);p(g,a.language);h.checked="true"==a.popupDblclick;q();k.checked="true"==a.popupSelect;r();p(j,a.popupDblclickKey);p(m,a.popupSelectKey)},p=function(a,b){for(var c=0,u=a.options.length;c<u;c++)if(a.options[c].value==b){a.options[c].selected=!0;break}},n=function(a){e.disabled=!a;f.disabled=!a},t=function(){n(!0)},q=function(){var a=
h.checked;j.disabled=!a;i.className=a?"":"text_disabled"},r=function(){var a=k.checked;m.disabled=!a;l.className=a?"":"text_disabled"};
window.initOptionsPage=function(){e=document.getElementById("save_button");f=document.getElementById("reset_button");g=document.getElementById("language_selector");h=document.getElementById("popup_dblclick_checkbox");i=document.getElementById("popup_dblclick_text");j=document.getElementById("popup_dblclick_key");k=document.getElementById("popup_select_checkbox");l=document.getElementById("popup_select_text");m=document.getElementById("popup_select_key");e.addEventListener("click",o,d);f.addEventListener("click",
s,d);h.addEventListener("change",function(){q()},d);k.addEventListener("change",function(){r()},d);for(var a=document.getElementsByTagName("input"),b=0,c;c=a[b];b++)c.addEventListener("change",t,d);a=document.getElementsByTagName("select");for(b=0;c=a[b];b++)c.addEventListener("change",t,d);-1!=window.navigator.platform.toLowerCase().indexOf("mac")&&(document.getElementById("popup_dblclick_key_ctrl").innerHTML="Command",document.getElementById("popup_select_key_ctrl").innerHTML="Command");s()};})();
